{
    "collab_server" : "",
    "contents" : "---\n  title: \"ggallup Vignette\"\nauthor: \"Bill Petti\"\ndate: \"December 2016\"\noutput: html_document\n---\n\n# Introduction\n\nThis package contains a custom `ggplot2` theme that aligns with Gallup's general brand standards, as well as a custom palette that includes current colors that also align to Gallup's standards.\n\nTo see how they work, let's load some sample survey data and place each respondent into one of three groups:\n\n```\nsample_data <- read.csv(\"https://raw.githubusercontent.com/BillPetti/R-Crash-Course/master/survey_sample_data.csv\")\nhead(sample_data)\nset.seed(42)\nsample_data$group <- sample(1:3, 116, replace = TRUE)\nwith(sample_data, table(group))\n```\n\nNow, let's load `ggplot2` and the `ggallup` packages:\n\n```\nrequire(ggplot2)\nrequire(devtools)\ninstall_github(\"BillPetti/ggallup\", force = TRUE)\nrequire(ggallup)\n```\n\nHere is what a bar chart of average scores for Q1 per group looks like:  \n\n```\nrequire(tidyverse)\n\nsample_data_mean <- sample_data %>%\n    gather(question, value, -resp, -group) %>%\n    group_by(question, group) %>%\n    summarise_each(funs(mean(., na.rm = TRUE)), mean = value) %>%\n    spread(question, mean)\n    \nggplot(sample_data_mean, aes(factor(group), Q1)) +\n    geom_bar(aes(fill = factor(group)), stat = \"identity\") +\n    ggtitle(\"\\nAverage Scores for Q1, by Group\\n\") +\n    xlab(\"\\nGroups\\n\") +\n    ylab(\"Q1\\n\") +\n    coord_cartesian(ylim = c(3,4.25))\n```\n\nThe plot colors each data based on the number of PAs in a given player's season.\n\nIf we apply the `theme_gallup`, here's what the same chart would look like:\n\n```\nggplot(sample_data_mean, aes(factor(group), Q1)) +\n    geom_bar(aes(fill = factor(group)), stat = \"identity\") +\n    ggtitle(\"\\nAverage Scores for Q1, by Group\\n\") +\n    xlab(\"\\nGroups\\n\") +\n    ylab(\"Q1\\n\") +\n    coord_cartesian(ylim = c(3,4.25)) +\n    theme_gallup() +\n    theme(plot.title = element_text(size = 16, face = \"bold\"))\n```\n\nThe plot is still using `ggplot2`'s standard color scale. What if we wanted those colors to be compliant with Gallup standards? For that we can use the `gallup_palette` object. If we call the object we can see the hexidecimal codes for the colors:\n\n```\ngallup_palette\n[1] \"#007934\" \"#61C250\" \"#C3E76F\" \"#A0A19E\" \"#7D7F7E\" \"#404545\"\n```\n\nThe palette includes our three greens as well as three greys. You can use `scale_fill_continuous` in this case to apply the palette to our current group:\n\n```\nggplot(sample_data_mean, aes(factor(group), Q1)) +\n    geom_bar(aes(fill = factor(group)), stat = \"identity\") +\n    ggtitle(\"\\nAverage Scores for Q1, by Group\\n\") +\n    xlab(\"\\nGroups\\n\") +\n    ylab(\"Q1\\n\") +\n    coord_cartesian(ylim = c(3,4.25)) +\n    scale_fill_manual(values = gallup_palette, \"Group\") +\n    theme_gallup() +\n    theme(plot.title = element_text(size = 16, face = \"bold\"))\n```\n",
    "created" : 1482185421225.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2393341301",
    "id" : "ECE76F35",
    "lastKnownWriteTime" : 1482236845,
    "last_content_update" : 1482236845568,
    "path" : "~/ggallup/vignette/ggallupVignette.md",
    "project_path" : "vignette/ggallupVignette.md",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "markdown"
}